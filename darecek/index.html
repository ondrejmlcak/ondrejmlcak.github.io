<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tulipánové tajemství</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent:#ff9bb3;
      --accent2:#ffd6a5;
      --bg:#fff7f6;
      --text:#2b2b2b;
    }
    body{
      margin:0;
      font-family:"Poppins",sans-serif;
      background:linear-gradient(180deg,#fff7f6 0%, #fff 100%);
      display:flex;justify-content:center;align-items:center;
      height:100vh;
    }
    .card{
      background:white;
      border-radius:20px;
      padding:40px;
      box-shadow:0 8px 30px rgba(0,0,0,0.1);
      width:90%;max-width:800px;
      text-align:center;
    }
    .section{display:none;animation:fadeIn 0.4s ease forwards}
    .section.active{display:block}
    input{
      padding:10px 14px;
      border:1px solid #ddd;
      border-radius:10px;
      font-size:16px;
      width:60%;
    }
    button{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      border:none;
      border-radius:10px;
      color:white;
      font-weight:600;
      padding:10px 18px;
      cursor:pointer;
      box-shadow:0 4px 10px rgba(0,0,0,0.1);
    }
    .plot{
      width:100%;
      height:300px;
      border-radius:16px;
      border:1px dashed #ddd;
      background:linear-gradient(180deg,#fff,#fff0f4);
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      align-items:flex-end;
      padding:20px;
      overflow:hidden;
      cursor:pointer;
      margin:20px 0;  /* změněno z margin-top na margin */
      box-sizing:border-box;  /* přidáno */
    }
    .tulip{
      width:70px;
      margin:10px;
      opacity:0;
      transform:translateY(40px) scale(0.8);
      transition:all 0.6s ease;
    }
    .tulip.show{
      opacity:1;
      transform:translateY(0) scale(1);
    }
    .progress{
      margin-top:10px;
      height:14px;
      width:100%;
      background:#f3f3f3;
      border-radius:10px;
      overflow:hidden;
    }
    .progress-bar{
      height:100%;
      width:0%;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      transition:width 0.3s ease;
    }
    @keyframes fadeIn{
      from{opacity:0;transform:translateY(10px)}
      to{opacity:1;transform:none}
    }
    .modal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }
  </style>
</head>
<body>
  <div class="card">
    <section id="verify" class="section active">
      <h1>🌷 Tulipánové tajemství 🌷</h1>
      <p>Zadej své jméno, abys vstoupila do zahrady.</p>
      <input id="nameInput" type="text" placeholder="Zadej své jméno">
      <button id="continueBtn">Pokračovat</button>
      <p id="error" style="color:#c33;font-weight:500;margin-top:10px;"></p>
    </section>

    <section id="garden" class="section">
      <h2>Zasaď tulipány 🌷</h2>
      <p>Klikni do políčka a zasaď <strong>10 tulipánů</strong>.</p>
      <div class="plot" id="plot"></div>
      <div class="progress"><div id="progressBar" class="progress-bar"></div></div>
      <p><span id="count">0</span>/10</p>
    </section>

    <section id="final" class="section">
      <h2>💖 Všechno nejlepší ke svátečku, Terezkoo! 💖</h2>
      <p id="finalText">
        Viděl jsem, že ty ráda tulipány, tak snad ti to udělalo aspoň malinkou radost. 🌸<br>
        Popravdě se toho za těch pár dní hodně změnilo u mě v životě a jsem rád, že jsi to způsobila ty... Časoto jsem pochyboval jestli to čekání někdy vyjde, ukazala jsi mi že ano.
        Užij si svůj den, zasloužíš si to. Moc na tebe myslím a těším se až se zase uvidíme. 💕
      </p>
      <button id="againBtn">Znovu zasadit</button>
    </section>

    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal" id="hintModal">
      <h2>Nápověda</h2>
      <p>Jak máš ráda, když ti říkám? Zkus k tomu i příjmení napsat, třeba to půjde. :3</p>
      <button onclick="closeModal()">Zavřít</button>
    </div>
  </div>

  <script>
    const secretName = "Terezka Blahutová"; // <-- změň jméno
    const totalTulips = 10;
    const tulipImage = "https://static.vecteezy.com/system/resources/previews/050/245/982/non_2x/pink-tulip-flower-on-transparent-background-free-png.png"; // můžeš nahradit jiným obrázkem 🌷

    const verify = document.getElementById("verify");
    const garden = document.getElementById("garden");
    const final = document.getElementById("final");
    const nameInput = document.getElementById("nameInput");
    const error = document.getElementById("error");
    const plot = document.getElementById("plot");
    const progressBar = document.getElementById("progressBar");
    const countEl = document.getElementById("count");
    const againBtn = document.getElementById("againBtn");

    let count = 0;
    let attempts = 0;

    document.getElementById("continueBtn").onclick = () => {
      const inputName = nameInput.value.trim().toLowerCase();
      if (inputName === secretName.toLowerCase()) {
        switchSection(garden);
      } else {
        attempts++;
        error.textContent = "Zkus to znovu 🌷";
        
        if (attempts === 5) {
          showHintModal();
        }
      }
    };

    function switchSection(section) {
      [verify, garden, final].forEach(s => s.classList.remove("active"));
      section.classList.add("active");
    }

    plot.addEventListener("click", () => {
      if (count >= totalTulips) return;
      count++;
      const tulip = document.createElement("img");
      tulip.src = tulipImage;
      tulip.className = "tulip";
      plot.appendChild(tulip);
      setTimeout(() => tulip.classList.add("show"), 50);
      updateProgress();
      if (count === totalTulips) {
        setTimeout(() => switchSection(final), 1000);
      }
    });

    function updateProgress() {
      const percent = (count / totalTulips) * 100;
      progressBar.style.width = percent + "%";
      countEl.textContent = count;
    }

    againBtn.onclick = () => {
      count = 0;
      plot.innerHTML = "";
      progressBar.style.width = "0%";
      countEl.textContent = "0";
      switchSection(garden);
    };

    function showHintModal() {
      document.getElementById('modalOverlay').style.display = 'block';
      document.getElementById('hintModal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('modalOverlay').style.display = 'none';
      document.getElementById('hintModal').style.display = 'none';
    }
  </script>
</body>
</html>
